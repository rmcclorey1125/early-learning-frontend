{"ast":null,"code":"var _jsxFileName = \"/Users/ronan/Flatiron/code/Mod5/Final-Project/early-learning-frontend/src/MultipleChoice.js\";\nimport React from 'react';\nconst API = 'http://localhost:3000/api/v1/questions';\n\nclass MultipleChoice extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      questions: [],\n      userAnswer: null,\n      currentIndex: 0,\n      options: [],\n      quizEnd: false,\n      score: 0,\n      disabled: true\n    };\n\n    this.nextQuestionHandler = () => {\n      const {\n        userAnswer,\n        answer,\n        score\n      } = this.state;\n\n      if (userAnswer === answer) {\n        this.setState({\n          score: score + 1\n        });\n      }\n\n      this.setState({\n        currentIndex: this.state.currentIndex + 1,\n        userAnswer: null\n      });\n    };\n\n    this.checkAnswer = answer => {\n      this.setState({\n        userAnswer: answer,\n        disabled: false\n      });\n    };\n\n    this.finishHandler = () => {\n      const {\n        userAnswer,\n        answer,\n        score\n      } = this.state;\n\n      if (userAnswer === answer) {\n        fetch('http://localhost:3000/api/v1/games', {\n          method: \"POST\",\n          headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          },\n          body: JSON.stringify({\n            user_id: this.props.user.id,\n            score: this.state.score + 1\n          })\n        }).then(resp => resp.json()).then(game => {\n          console.log(game);\n        });\n      }\n\n      if (this.state.currentIndex === this.state.questions.length - 1) {\n        this.setState({\n          quizEnd: true\n        });\n      }\n\n      fetch('http://localhost:3000/api/v1/games', {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          user_id: this.props.user.id,\n          score: this.state.score\n        })\n      }).then(resp => resp.json()).then(game => {\n        console.log(game);\n      }); //   .then(this.setState({\n      //       score: 0\n      //   }))\n    };\n  }\n\n  componentDidMount() {\n    const {\n      currentIndex\n    } = this.state;\n    fetch(API).then(resp => resp.json()).then(questions => {\n      this.setState({\n        questions: questions,\n        question: questions[currentIndex].question,\n        options: questions[currentIndex].options.sort(() => Math.random() - .5),\n        answer: questions[currentIndex].answer\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.currentIndex !== prevState.currentIndex) {\n      this.setState(() => {\n        return {\n          question: this.state.questions[this.state.currentIndex].question,\n          options: this.state.questions[this.state.currentIndex].options.sort(() => Math.random() - .5),\n          answer: this.state.questions[this.state.currentIndex].answer\n        };\n      });\n    }\n  }\n\n  render() {\n    const {\n      question,\n      options,\n      currentIndex,\n      userAnswer,\n      quizEnd,\n      score\n    } = this.state;\n\n    if (quizEnd) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }\n      }, \"You answered \", score, \" out of \", this.state.questions.length, \" correct\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => {\n          this.props.history.push(``);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }\n      }, \"Return Home\"));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }\n      }, question), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }\n      }, `Question ${currentIndex + 1} of ${this.state.questions.length}`), options.map(option => /*#__PURE__*/React.createElement(\"p\", {\n        key: option.id,\n        className: `options ${userAnswer === option ? \"selected\" : null}`,\n        onClick: () => this.checkAnswer(option),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: option,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }\n      }, currentIndex < this.state.questions.length - 1 && /*#__PURE__*/React.createElement(\"button\", {\n        disabled: this.state.disabled,\n        onClick: this.nextQuestionHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 25\n        }\n      }, \"Next Question\"), currentIndex === this.state.questions.length - 1 && /*#__PURE__*/React.createElement(\"button\", {\n        disabled: this.state.disabled,\n        onClick: this.finishHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 25\n        }\n      }, \"Submit\")));\n    }\n  }\n\n}\n\nexport default MultipleChoice;","map":{"version":3,"sources":["/Users/ronan/Flatiron/code/Mod5/Final-Project/early-learning-frontend/src/MultipleChoice.js"],"names":["React","API","MultipleChoice","Component","state","questions","userAnswer","currentIndex","options","quizEnd","score","disabled","nextQuestionHandler","answer","setState","checkAnswer","finishHandler","fetch","method","headers","body","JSON","stringify","user_id","props","user","id","then","resp","json","game","console","log","length","componentDidMount","question","sort","Math","random","componentDidUpdate","prevProps","prevState","render","history","push","map","option"],"mappings":"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","sourcesContent":["import React from 'react'\n\nconst API = 'http://localhost:3000/api/v1/questions'\n\nclass MultipleChoice extends React.Component {\n\n    state = {\n        questions: [],\n        userAnswer: null,\n        currentIndex: 0,\n        options: [],\n        quizEnd: false,\n        score: 0,\n        disabled: true\n    }\n\n    componentDidMount(){\n        const {currentIndex} = this.state\n        fetch(API)\n        .then(resp => resp.json())\n        .then(questions => {\n          this.setState({\n            questions: questions,\n            question: questions[currentIndex].question,\n            options: questions[currentIndex].options.sort(() => Math.random() - .5),\n            answer: questions[currentIndex].answer\n            })\n        })\n    }\n\n    nextQuestionHandler = () => {\n        const {userAnswer, answer, score} = this.state\n    \n        if(userAnswer === answer){\n            this.setState ({\n                score: score + 1\n            })\n        }\n    \n        this.setState({\n            currentIndex: this.state.currentIndex + 1,\n            userAnswer: null\n        })\n    }\n\n    \n    checkAnswer = answer => {\n        this.setState({\n            userAnswer: answer,\n            disabled: false\n        })\n    }\n    \n    componentDidUpdate(prevProps, prevState){\n        if(this.state.currentIndex !== prevState.currentIndex){\n            this.setState(() => {\n                return {\n                    question: this.state.questions[this.state.currentIndex].question,\n                    options: this.state.questions[this.state.currentIndex].options.sort(() => Math.random() - .5),\n                    answer: this.state.questions[this.state.currentIndex].answer\n                }\n            })\n        }\n    }\n    \n    finishHandler = () => {\n        const {userAnswer, answer, score} = this.state\n        \n        if(userAnswer === answer){\n            fetch('http://localhost:3000/api/v1/games',{\n                method:\"POST\",\n                headers:{\n                  'Content-Type':'application/json',\n                  'Accept':'application/json'\n                },\n                body:JSON.stringify({\n                  user_id: this.props.user.id,\n                  score: this.state.score + 1\n                })\n              })\n              .then(resp=>resp.json())\n              .then(game =>{\n                console.log(game)\n              })\n        }\n    \n        if(this.state.currentIndex === this.state.questions.length - 1){\n            this.setState({\n                quizEnd:true\n            })\n        }\n\n        fetch('http://localhost:3000/api/v1/games',{\n            method:\"POST\",\n            headers:{\n              'Content-Type':'application/json',\n              'Accept':'application/json'\n            },\n            body:JSON.stringify({\n              user_id: this.props.user.id,\n              score: this.state.score\n            })\n          })\n          .then(resp=>resp.json())\n          .then(game =>{\n            console.log(game)\n          })\n        //   .then(this.setState({\n        //       score: 0\n        //   }))\n    }\n    \n    render() {\n        const {question, options, currentIndex, userAnswer, quizEnd, score} = this.state\n        if(quizEnd) {\n            return (\n                <div>\n                    <h2>You answered {score} out of {this.state.questions.length} correct</h2>\n                    <button onClick={()=>{this.props.history.push(``)}}>Return Home</button>\n                </div>\n            )\n        } else {\n            return (\n                <div>\n                    <h2>{question}</h2>\n                    <p>{`Question ${currentIndex + 1} of ${this.state.questions.length}`}</p>\n                    {\n                        options.map(option => \n                            <p key = {option.id} className={`options ${userAnswer === option? \"selected\": null}`}\n                            onClick = {() => this.checkAnswer(option)}>\n                                <img src={option} />\n                            </p>\n                        )\n                    }\n                    <div>\n                        {currentIndex < this.state.questions.length - 1 &&\n                        <button disabled = {this.state.disabled} onClick={this.nextQuestionHandler}>\n                            Next Question\n                        </button>}\n                        {currentIndex === this.state.questions.length - 1 && \n                        <button disabled = {this.state.disabled} onClick={this.finishHandler}>\n                            Submit\n                        </button>\n                        }\n                    </div>\n                </div> \n            );\n        }\n    }\n}\n\nexport default MultipleChoice\n\n"]},"metadata":{},"sourceType":"module"}